$(function(){"use strict";var $inputs=$("[data-rule]"),inputs=[];$inputs.each(function(e,i){inputs.push(i)});for(var lable_field=[],i=0;i<inputs.length;i++){var ele_name=inputs[i].id,ele=$("#"+ele_name);lable_field.push(ele)}for(var grabrule=function(e){var i={};if(e){for(var s=e.split("|"),a=0;a<s.length;a++){var r=s[a].split(":");i[r[0]]=JSON.parse(r[1])}return i}},rule_field=[],i=0;i<lable_field.length;i++){var rule_str=lable_field[i].data("rule"),rules=grabrule(rule_str);rule_field.push(rules)}var validation=function(index,erorr_name,yes_img){lable_field[index].change(function(){var right_nums=[],dict_length=[],validator=new Validator(lable_field[index].val(),rule_field[index]);for(var j in rule_field[index]){var commod=eval("validator."+j+"()"),result=commod;if(1!=result){$(erorr_name)[0].innerHTML=result,$(erorr_name).css("display","inline-block");break}right_nums.push(result)}for(var i in rule_field[index])dict_length.push("true");right_nums.length==dict_length.length?$(yes_img).fadeIn(500):$(yes_img).fadeOut(500)}),lable_field[index].keyup(function(){$(erorr_name).fadeOut(500),$(yes_img).fadeOut(500)})};validation(0,"#j-user-ero","#j-user-yes"),validation(1,"#j-email-ero","#j-email-yes"),validation(2,"#j-passwd-ero","#j-passwd-yes");var confirmpwd=function(i,s,a,r){$(s).change(function(){var e=new ConfirmPwd($(i).val(),$(s).val()).confirm();1!=e?($(a)[0].innerHTML=e,$(a).fadeIn(500)):$(r).fadeIn(500)}),$(i).keyup(function(){$(a).fadeOut(500),$(r).fadeOut(500)}),$(s).keyup(function(){$(a).fadeOut(500),$(r).fadeOut(500)})};confirmpwd("#s-passwd","#s-confirm-passwd","#j-confirm-passwd-ero","#j-confirm-passwd-yes");var pass1=$("#j-user-yes"),pass2=$("#j-email-yes"),pass3=$("#j-passwd-yes"),pass4=$("#j-confirm-passwd-yes");$("#s-login-submit").mouseover(function(){pass1.is(":visible")&&pass2.is(":visible")&&pass3.is(":visible")&&pass4.is(":visible")&&$("form").attr("action","/signUp/")})});